[gd_scene load_steps=10 format=3 uid="uid://c2testlevel01"]

[ext_resource type="Script" path="res://scenes/levels/test_level.gd" id="1_test_level_script"]
[ext_resource type="Script" path="res://scenes/camera/multi_target_camera.gd" id="2_camera"]
[ext_resource type="Script" path="res://scenes/camera/screen_shake.gd" id="3_shake"]
[ext_resource type="Texture2D" uid="uid://cq0lisg0cyrwh" path="res://assets/sprites/environment/parallax_sky.png" id="4_parallax_sky"]
[ext_resource type="Texture2D" uid="uid://bwqbbp4d6abxe" path="res://assets/sprites/environment/parallax_city_far.png" id="5_parallax_far"]
[ext_resource type="Texture2D" uid="uid://c81lurwyji4t6" path="res://assets/sprites/environment/parallax_city_near.png" id="6_parallax_near"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_floor"]
size = Vector2(2000, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall"]
size = Vector2(32, 720)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_platform"]
size = Vector2(200, 16)

[node name="TestLevel" type="Node2D"]
script = ExtResource("1_test_level_script")

[node name="MultiTargetCamera" type="Camera2D" parent="."]
position = Vector2(640, 360)
script = ExtResource("2_camera")

[node name="ScreenShake" type="Node" parent="MultiTargetCamera"]
script = ExtResource("3_shake")

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(1000, 704)
collision_layer = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
shape = SubResource("RectangleShape2D_floor")

[node name="FloorVisual" type="ColorRect" parent="Floor"]
offset_left = -1000.0
offset_top = -16.0
offset_right = 1000.0
offset_bottom = 16.0
color = Color(0.55, 0.35, 0.2, 1)

[node name="WallLeft" type="StaticBody2D" parent="." groups=["wall"]]
position = Vector2(-16, 360)
collision_layer = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallLeft"]
shape = SubResource("RectangleShape2D_wall")

[node name="WallRight" type="StaticBody2D" parent="." groups=["wall"]]
position = Vector2(2016, 360)
collision_layer = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallRight"]
shape = SubResource("RectangleShape2D_wall")

[node name="Platform1" type="StaticBody2D" parent="."]
position = Vector2(700, 560)
collision_layer = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform1"]
shape = SubResource("RectangleShape2D_platform")

[node name="PlatformVisual" type="ColorRect" parent="Platform1"]
offset_left = -100.0
offset_top = -8.0
offset_right = 100.0
offset_bottom = 8.0
color = Color(0.5, 0.4, 0.3, 1)

[node name="ParallaxBG" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="ParallaxBG"]
motion_scale = Vector2(0.0, 0.0)

[node name="Sprite" type="Sprite2D" parent="ParallaxBG/Sky"]
position = Vector2(640, 360)
scale = Vector2(2, 2)
texture = ExtResource("4_parallax_sky")

[node name="CityFar" type="ParallaxLayer" parent="ParallaxBG"]
motion_scale = Vector2(0.2, 0.0)
motion_mirroring = Vector2(1280, 0)

[node name="Sprite" type="Sprite2D" parent="ParallaxBG/CityFar"]
position = Vector2(640, 360)
scale = Vector2(2, 2)
texture = ExtResource("5_parallax_far")

[node name="CityNear" type="ParallaxLayer" parent="ParallaxBG"]
motion_scale = Vector2(0.5, 0.0)
motion_mirroring = Vector2(1280, 0)

[node name="Sprite" type="Sprite2D" parent="ParallaxBG/CityNear"]
position = Vector2(640, 360)
scale = Vector2(2, 2)
texture = ExtResource("6_parallax_near")
